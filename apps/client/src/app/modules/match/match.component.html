@if (!isUserChosed) {
<div class="backdrop"></div>
<match-join-dialog
  (onSubmit)="handleUserChoose($event)"
  class="dialog-wrapper"
></match-join-dialog>
} @if (isInviteModalOpen) {
<div class="backdrop"></div>
<match-invite-dialog
  (close)="handleInviteModalClose()"
  class="dialog-wrapper"
></match-invite-dialog>
}
<div class="page-container">
  <nav>
    <div class="logo">
      <img src="../../../assets/pragma.png" alt="Logo" />
    </div>
    <p class="match__title">
      {{ name$ | async | json }}
    </p>
    <div class="right">
      <div class="spectators">
        <app-avatar
          *ngFor="let spectator of spectators$ | async"
          [showLabel]="false"
          size="small"
          [name]="spectator.name"
        ></app-avatar>
        <app-avatar
          *ngIf="spectatorsCount > 3"
          [showLabel]="false"
          size="small"
          [customPrefix]="spectatorCountLabel"
          [backgroundColor]="'white'"
        ></app-avatar>
      </div>
      <div class="menu">
        <button (click)="handleInviteModalOpen()" class="btn btn--outlined">
          Invitar jugadores
        </button>
      </div>
    </div>
  </nav>
  <main>
    <div class="match-table">
      <match-desk class="desk">
        <button class="btn btn--primary" *ngIf="isAdmin$ | async">
          Nueva votaciÃ³n
        </button>
      </match-desk>

      <div
        *ngFor="let player of players$ | async; let i = index"
        [class]="getSeatClass(i)"
      >
        <app-avatar
          *ngIf="i === currentUserIndex; else normalCard"
          name="David"
        ></app-avatar>
        <ng-template #normalCard>
          <app-card>
            {{ player.name }}
          </app-card>
        </ng-template>
      </div>
    </div>
    <div class="card-deck-container">
      <p>
        <strong>Elige una carta ðŸ‘‡</strong>
      </p>
      <div class="card-deck">
        <app-card [selected]="true">1</app-card>
        <app-card>2</app-card>
        <app-card>3</app-card>
        <app-card>4</app-card>
        <app-card>5</app-card>
        <app-card>6</app-card>
        <app-card>7</app-card>
        <app-card>8</app-card>
        <app-card>9</app-card>
        <app-card>10</app-card>
        <app-card>11</app-card>
        <app-card>12</app-card>
      </div>
    </div>
  </main>
</div>
