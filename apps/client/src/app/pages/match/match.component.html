@if (!isUserChosed) {
  <div class="backdrop"></div>
  <match-join-dialog
    (onSubmit)="handleUserChoose($event)"
    class="dialog-wrapper"
  ></match-join-dialog>
}
@if (isInviteModalOpen) {
  <div class="backdrop"></div>
  <match-invite-dialog
    (close)="handleInviteModalClose()"
    class="dialog-wrapper"
  ></match-invite-dialog>
}
@if (isCardDeckModalOpen) {
  <div class="backdrop"></div>
  <match-card-deck-modal
    [selectedCard]="selectedCard"
    (cardSelect)="onSelectedCard($event)"
  ></match-card-deck-modal>
}
<div class="page-container">
  <nav>
    <div class="logo">
      <img src="../../../assets/pragma.png" alt="Logo" />
    </div>
    <p *ngIf="(name$ | async) !== ''; else empty" class="match__title">
      {{ name$ | async | json }}
    </p>
    <ng-template #empty>
      <p></p>
    </ng-template>
    <div class="right">
      <div class="spectators">
        <app-avatar
          *ngFor="let spectator of spectators$"
          [showLabel]="false"
          size="small"
          [name]="spectator.name"
        ></app-avatar>
        <app-avatar
          *ngIf="spectatorsCount > 3"
          [showLabel]="false"
          size="small"
          [customPrefix]="spectatorCountLabel"
          [backgroundColor]="'white'"
        ></app-avatar>
      </div>
      <div class="menu">
        <app-button (click)="handleInviteModalOpen()" variant="outlined">
          Invitar jugadores
        </app-button>
      </div>
    </div>
  </nav>
  <main>
    <match-desk></match-desk>
    <match-card-deck
      [selectedCard]="selectedCard"
      (cardSelect)="onSelectedCard($event)"
    ></match-card-deck>
  </main>
</div>
